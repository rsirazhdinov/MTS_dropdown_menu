{"remainingRequest":"/home/rsirazhdinov/PycharmProjects/flaskProject/static/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/rsirazhdinov/PycharmProjects/flaskProject/static/src/components/Survey.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/rsirazhdinov/PycharmProjects/flaskProject/static/src/components/Survey.vue","mtime":1603027412114},{"path":"/home/rsirazhdinov/PycharmProjects/flaskProject/static/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/rsirazhdinov/PycharmProjects/flaskProject/static/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/rsirazhdinov/PycharmProjects/flaskProject/static/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/rsirazhdinov/PycharmProjects/flaskProject/static/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSAoKSB7CiAgICByZXR1cm4gewogICAgICBjdXJyZW50UXVlc3Rpb246IDAKICAgIH0KICB9LAogIGJlZm9yZU1vdW50ICgpIHsKICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdsb2FkU3VydmV5JywgeyBpZDogcGFyc2VJbnQodGhpcy4kcm91dGUucGFyYW1zLmlkKSB9KQogIH0sCiAgbWV0aG9kczogewogICAgZ29Ub05leHRRdWVzdGlvbiAoKSB7CiAgICAgIGlmICh0aGlzLmN1cnJlbnRRdWVzdGlvbiA9PT0gdGhpcy5zdXJ2ZXkucXVlc3Rpb25zLmxlbmd0aCAtIDEpIHsKICAgICAgICB0aGlzLmN1cnJlbnRRdWVzdGlvbiA9IDAKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmN1cnJlbnRRdWVzdGlvbisrCiAgICAgIH0KICAgIH0sCiAgICBnb1RvUHJldmlvdXNRdWVzdGlvbiAoKSB7CiAgICAgIGlmICh0aGlzLmN1cnJlbnRRdWVzdGlvbiA9PT0gMCkgewogICAgICAgIHRoaXMuY3VycmVudFF1ZXN0aW9uID0gdGhpcy5zdXJ2ZXkucXVlc3Rpb25zLmxlbnRoIC0gMQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuY3VycmVudFF1ZXN0aW9uLS0KICAgICAgfQogICAgfSwKICAgIGhhbmRsZVN1Ym1pdCAoKSB7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdhZGRTdXJ2ZXlSZXNwb25zZScpCiAgICAgICAgLnRoZW4oKCkgPT4gdGhpcy4kcm91dGVyLnB1c2goJy8nKSkKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBzdXJ2ZXlDb21wbGV0ZSAoKSB7CiAgICAgIGlmICh0aGlzLnN1cnZleS5xdWVzdGlvbnMpIHsKICAgICAgICBjb25zdCBudW1RdWVzdGlvbnMgPSB0aGlzLnN1cnZleS5xdWVzdGlvbnMubGVuZ3RoCiAgICAgICAgY29uc3QgbnVtQ29tcGxldGVkID0gdGhpcy5zdXJ2ZXkucXVlc3Rpb25zLmZpbHRlcihxID0+IHEuY2hvaWNlKS5sZW5ndGgKICAgICAgICByZXR1cm4gbnVtUXVlc3Rpb25zID09PSBudW1Db21wbGV0ZWQKICAgICAgfQogICAgICByZXR1cm4gZmFsc2UKICAgIH0sCiAgICBzdXJ2ZXkgKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuY3VycmVudFN1cnZleQogICAgfSwKICAgIHNlbGVjdGVkQ2hvaWNlOiB7CiAgICAgIGdldCAoKSB7CiAgICAgICAgY29uc3QgcXVlc3Rpb24gPSB0aGlzLnN1cnZleS5xdWVzdGlvbnNbdGhpcy5jdXJyZW50UXVlc3Rpb25dCiAgICAgICAgcmV0dXJuIHF1ZXN0aW9uLmNob2ljZQogICAgICB9LAogICAgICBzZXQgKHZhbHVlKSB7CiAgICAgICAgY29uc3QgcXVlc3Rpb24gPSB0aGlzLnN1cnZleS5xdWVzdGlvbnNbdGhpcy5jdXJyZW50UXVlc3Rpb25dCiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRDaG9pY2UnLCB7IHF1ZXN0aW9uSWQ6IHF1ZXN0aW9uLmlkLCBjaG9pY2U6IHZhbHVlIH0pCiAgICAgIH0KICAgIH0KICB9Cn0K"},{"version":3,"sources":["Survey.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Survey.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <section class=\"hero is-primary\">\n      <div class=\"hero-body\">\n        <div class=\"container has-text-centered\">\n          <h2 class=\"title\">{{ survey.name }}</h2>\n        </div>\n      </div>\n    </section>\n\n    <section class=\"section\">\n      <div class=\"container\">\n\n        <div class=\"columns\">\n          <div class=\"column is-10 is-offset-1\">\n\n            <div\n              v-for=\"(question, idx) in survey.questions\"\n              v-bind:key=\"question.id\"\n              v-show=\"currentQuestion === idx\">\n\n                  <div class=\"column is-offset-3 is-6\">\n                    <h4 class='title has-text-centered'>{{ question.text }}</h4>\n                  </div>\n                  <div class=\"column is-offset-4 is-4\">\n                    <div class=\"control\">\n                      <div v-for=\"choice in question.choices\" v-bind:key=\"choice.id\">\n                        <label class=\"radio\">\n                        <input type=\"radio\" v-model=\"question.choice\" name=\"choice\" :value=\"choice.id\">\n                        {{ choice.text }}\n                        </label>\n                      </div>\n                    </div>\n                  </div>\n\n            </div>\n\n            <div class=\"column is-offset-one-quarter is-half\">\n              <nav class=\"pagination is-centered\" role=\"navigation\" aria-label=\"pagination\">\n                <a class=\"pagination-previous\" @click.stop=\"goToPreviousQuestion\"><i class=\"fa fa-chevron-left\" aria-hidden=\"true\"></i> &nbsp;&nbsp; Back</a>\n                <a class=\"pagination-next\" @click.stop=\"goToNextQuestion\">Next &nbsp;&nbsp; <i class=\"fa fa-chevron-right\" aria-hidden=\"true\"></i></a>\n              </nav>\n            </div>\n\n            <div class=\"has-text-centered\">\n              <a v-show=\"surveyComplete\" class='button is-large is-focused is-primary' @click=\"handleSubmit\">Submit</a>\n            </div>\n\n          </div>\n        </div>\n\n      </div>\n    </section>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  data () {\n    return {\n      currentQuestion: 0\n    }\n  },\n  beforeMount () {\n    this.$store.dispatch('loadSurvey', { id: parseInt(this.$route.params.id) })\n  },\n  methods: {\n    goToNextQuestion () {\n      if (this.currentQuestion === this.survey.questions.length - 1) {\n        this.currentQuestion = 0\n      } else {\n        this.currentQuestion++\n      }\n    },\n    goToPreviousQuestion () {\n      if (this.currentQuestion === 0) {\n        this.currentQuestion = this.survey.questions.lenth - 1\n      } else {\n        this.currentQuestion--\n      }\n    },\n    handleSubmit () {\n      this.$store.dispatch('addSurveyResponse')\n        .then(() => this.$router.push('/'))\n    }\n  },\n  computed: {\n    surveyComplete () {\n      if (this.survey.questions) {\n        const numQuestions = this.survey.questions.length\n        const numCompleted = this.survey.questions.filter(q => q.choice).length\n        return numQuestions === numCompleted\n      }\n      return false\n    },\n    survey () {\n      return this.$store.state.currentSurvey\n    },\n    selectedChoice: {\n      get () {\n        const question = this.survey.questions[this.currentQuestion]\n        return question.choice\n      },\n      set (value) {\n        const question = this.survey.questions[this.currentQuestion]\n        this.$store.commit('setChoice', { questionId: question.id, choice: value })\n      }\n    }\n  }\n}\n</script>\n\n<style>\n</style>\n"]}]}